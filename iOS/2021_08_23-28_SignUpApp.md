# 회원가입 애플리케이션

- [부스트코스 2번째 프로젝트](https://www.boostcourse.org/mo326 "SignUpApplication")
- 코드 원문을 올리는 것은 허용되지 않기 때문에, 구현에 필요한 아이디어를 기록하였다.
- 뷰컨트롤러간에 중복되는 구현 아이디어가 존재한다면, 먼저 나오는 뷰 컨트롤러에 적고 다음 뷰 컨트롤러에는 적지 않았다.
- Signleton pattern으로 만들어져있기 때문에 회원가입은 하나의 계정만 가능하다.

# 구현예시

![](./pictures/simulator.gif)

# 목차

1. SigninViewController
2. FirstSignUpViewController
3. SecondSignUpViewContrller

# 1. SignViewController

첫번째 뷰컨트롤러로서, Sign in 버튼과 Sign Up button으로 구성된다

- SignIn시 사용자가 ID를 입력하고 하고 난 뒤, Next키와 델리게이트를 지정해줌으로써 Password field로 바로 이동할 수 있도록 한다.

```swift
// Delegate function
func textFieldShouldReturn(_ textField: UITextField) -> Bool {
        if let nextField = textField.superview?.viewWithTag(textField.tag + 1) as? UITextField {
            nextField.becomeFirstResponder()
        } else {
            textField.resignFirstResponder()
            signIn()
        }
        return true
    }
```

# 2. FisrtSignUpViewController

SignUp버튼을 눌렀을 때 보이는 첫번째 ViewController로서, 회원가입시 필요한 ID, Password, profile image, self introduction을 받아서 저장한다. 이때 모든 필드의 값은 Nil이 아니여야 하며, passwordField와 check password field의 값은 동일해야한다.

- target-action method를 통해, imageView에 TapGesture가 입력될 때 imagePicker가 present된다.

```swift
override func viewDidLoad() {
    // ...
    let TapGesture: UITapGestureRecognizer = UITapGestureRecognizer(target: self, action: #selector(imageViewTapped(_:)))
    self.imageView.isUserInteractionEnabled = true
    self.imageView.addGestureRecognizer(TapGesture)
    nextButton.isEnabled = false
}
// ...
@IBAction func imageViewTapped(_ sender: UITapGestureRecognizer) {
        self.present(self.imagePicker, animated: true, completion: nil)
    }
```

# 3. SecondSignUpViewController

회원가입의 마지막 페이지로, 생년월일과 휴대폰 번호를 등록한다.  
이때 취소버튼을 누르게 되면 로그인페이지로 돌아가고, 이전버튼을 누르면 이전 페이지로 돌아간다.  
취소버튼을 누를 시 기존에 저장된 정보가 모두 초기화되고 띄어진 모달들이 모두 사라져야 한다.

- 두개로 띄어진 모달을 한번에 pop하는 방법
  옵셔널 체이닝을 통해서 nil을 체그하면서 두개의 모달을 한번에 내릴 수 있도록 한다.

```swift
self.presentingViewController?.presentingViewController?.dismiss(animated: true, completion: nil)
```
